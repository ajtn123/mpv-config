# https://mpv.io/manual/master/
# https://github.com/hooke007/MPV_lazy/blob/main/portable_config/mpv.conf

# Config
    input-conf = "~~/input-sc.conf"
    include = "~~/profiles.conf"
    include = "~~/script-opts.conf"
    use-filedir-conf = yes
    # log-file = "~~/mpv.log"

# Graphic
    vo = gpu-next
    gpu-api = vulkan
    hwdec = yes

# Window
    idle = yes
    input-builtin-bindings = no
    pause = yes
    keep-open = yes
    title-bar = no
    keepaspect-window = yes
    auto-window-resize = yes
    hidpi-window-scale = no

# Cache
    cache-on-disk = no
    demuxer-max-bytes = 2048MiB
    demuxer-max-back-bytes = 2048MiB
    gpu-shader-cache = yes
    gpu-shader-cache-dir = "~~/_cache/shader"
    watch-later-dir = "~~/_cache/watch_later"
    save-position-on-quit = yes
    watch-later-options = start,vid,aid,sid
    ignore-path-in-watch-later-config = yes

# OSD
    osd-on-seek = no
    osd-color = 1/0.75
    osd-border-color = 0/0.75
    osd-border-size = 1
    osd-font = "GenSenRounded2 JP R"
    osd-font-size = 40
    osd-fractions = yes
    # osd-playing-msg = "${filename}"
    # osd-scale-by-window = no
    osc = no

# Audio
    ao = wasapi
    audio-channels = stereo
    alang = ja,zh-CN,en
    audio-file-auto = fuzzy

# Video
    video-sync = display-resample
    video-sync-max-video-change = 5
    profile = high-quality
    linear-upscaling = no
    sigmoid-upscaling = yes
    linear-downscaling = yes
    correct-downscaling = yes
    scaler-resizes-only = yes
    deinterlace = auto
    deband = no
    # hr-seek-framedrop = no

# Subtitle
    sub-auto = fuzzy
    sub-file-paths = sub;subtitles
    slang = zh-Hans,zh-CN,en,ja
    subs-fallback = yes
    blend-subtitles = no
    sub-font = "GenSenRounded2 JP R"
    sub-font-size = 40
    # sub-scale-with-window = no
    # sub-border-style = background-box
    sub-border-size = 1
    sub-border-color = 0/0.75
    sub-color = 1/0.75
    sub-back-color = 0/0.25
    sub-use-margins = yes
    sub-ass-use-video-data = all
    # sub-ass-override = force
    # sub-ass-scale-with-window = yes
    sub-ass-force-margins = yes
    # stretch-image-subs-to-screen = yes
    # image-subs-video-resolution = yes
    secondary-sub-ass-override = yes

# Screenshot
    screenshot-format = avif
    screenshot-tag-colorspace = yes
    screenshot-high-bit-depth = yes
    screenshot-avif-opts = usage=allintra,crf=23,cpu-used=6
    screenshot-template = "~/Pictures/Screenshots/%F@%wm.%wS.%wT"
